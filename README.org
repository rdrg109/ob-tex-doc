#+PROPERTY: HEADER-ARGS:DASH+ :exports results
#+PROPERTY: HEADER-ARGS:DASH+ :dir /tmp/
#+PROPERTY: HEADER-ARGS:TEX-DOC+ :tangle /tmp/main.tex

* Introduction

This Org Babel implementation is aimed to people who

+ likes experimenting with TeX
+ likes playing with TeX
+ take notes on TeX (this doesn't mean using TeX on their notes)

The gif shown below shows the features of this package.

[[file:./img/1.gif]]

* Warning

This package has only been tested in Linux, you mustn't use this package in Windows. The reason of this warning is because there is a function which recursively delete files (an operation with possible undesirable effects if not executed the right way) in a directory and, for the time being, there are only checks for files located at =/tmp/= (i.e. the path is hardcoded since I hadn't have enough time to test this package on Windows).

* Examples

For each =tex-doc= code block, the expansion is shown below (i.e. the one that is shown when executing =org-babel-expand-src-block= =C-c C-v C-v= in a code block).

** Simple examples

The most simple example is the following

#+BEGIN_SRC org
,#+BEGIN_SRC tex-doc
foo
,#+END_SRC
#+END_SRC

#+BEGIN_SRC tex
%% This file is intended to be compiled by executing the following
%% commands:
%% $ pdflatex {filename}

\documentclass{standalone}

\begin{document}

foo

\end{document}
#+END_SRC

You are not restricted to use =pdflatex=. This package is intended for all flavours of TeX!

#+BEGIN_SRC org
,#+HEADER: :compile tex
,#+HEADER: :enclose no
,#+HEADER: :class no
,#+BEGIN_SRC tex-doc
foo \end
,#+END_SRC
#+END_SRC

#+BEGIN_SRC tex
%% This file is intended to be compiled by executing the following
%% commands:
%% $ tex {filename}

foo \end        
#+END_SRC

** All header arguments

The following example shows how a single line produces a full document.

#+BEGIN_SRC org
,#+HEADER: :class beamer
,#+HEADER: :package a b c
,#+HEADER: :prologue prologue
,#+HEADER: :epilogue epilogue
,#+HEADER: :preamble preamble
,#+HEADER: :comment yes
,#+HEADER: :compile xelatex -shell-escape && biber --nolog && xelatex -shell-escape
,#+HEADER: :eval no
,#+BEGIN_SRC tex-doc
content
,#+END_SRC
#+END_SRC

#+BEGIN_SRC tex
%% This file is intended to be compiled by executing the following
%% commands:
%% $ xelatex -shell-escape {filename}
%% $ biber --nolog {filename}
%% $ xelatex -shell-escape {filename}

prologue

\documentclass{beamer}

\usepackage{a}
\usepackage{b}
\usepackage{c}

preamble

\begin{document}

content

\end{document}

epilogue
#+END_SRC

** No header arguments

Let's say that you feel overwhelming by the amount of header arguments that =tex-doc= provides. If you want any of those header arguments to affect your code block, but you still want to =C-c C-c= into =tex-doc= code blocks, then just set the =:expand= header argument to =no=.

#+BEGIN_SRC org
,#+HEADER: :compile tex
,#+HEADER: :expand no
,#+BEGIN_SRC tex-doc
foo \end
,#+END_SRC
#+END_SRC

#+BEGIN_SRC tex
foo \end
#+END_SRC

* Supported header arguments

+ =:prologue=
  + Not documented because already documented in the Org Mode manual.
+ =:epilogue=
  + Not documented because already documented in the Org Mode manual.
+ =:class=
  + A string that is used in =\documentclass{...}=.
+ =:preamble=
  + A string that is located after the =\documentclass= and before the =document= environment.
+ =:enclose=
  + Defines whether the content of the code block need to be enclosed within the =document= environment.
+ =:package=
  + Defines the package that need to be included in the file.
+ =:compile=
  + Defines the compilation steps for compiling the document.
+ =:comment=
  + Defines whether comment with compilation instructions need to be included in the tangled file.
+ =:expand=
  + Defines whether all the other header arguments must take effect.

